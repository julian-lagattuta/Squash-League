<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Squash League - Edit Division</title>
        <style>
        label{
            display: inline-block;
            float: left;
            clear: left;
            width: 500px;
            text-align: left;
        }

        input {
          display: inline-block;
          float: left;
        }

        .checkboxes label {
          display: inline-block;
          padding-right: 10px;
          white-space: nowrap;
        }
        .checkboxes input {
          vertical-align: middle;
        }
        .checkboxes label span {
          vertical-align: middle;
        }
         select {
          display: inline-block;
          float: left;
        }
    </style>
</head>
<body>
<a href="/">Home</a>
<h1>Edit Facility</h1>
<form method="post" action="/submiteditfacility">

<span style="font-size:30px">

    <label>Full Name </label><input type="text" name="fullName" value="{{facility.fullName}}">
    <label>Name Abbreviation </label><input type="text" name="shortName" value="{{facility.shortName}}">
    <label>Days can host matches </label>

             <span style="font-size:20px;word-wrap:break-word" >
               <label> Sunday<input type="checkbox" name="daysCanHost-sunday" {{"checked=''" if "sunday" in facility.daysCanHost.days else ""}}></label>
       <label> Monday<input type="checkbox" name="daysCanHost-monday" {{"checked=''" if "monday" in facility.daysCanHost.days else ""}}></label>
        <label>  Tuesday<input type="checkbox" name="daysCanHost-tuesday" {{"checked=''" if "tuesday" in facility.daysCanHost.days else ""}}></label>
       <label> Wednesday<input type="checkbox" name="daysCanHost-wednesday" {{"checked=''" if "wednesday" in facility.daysCanHost.days else ""}}></label>
       <label> Thursday<input type="checkbox" name="daysCanHost-thursday" {{"checked=''" if "thursday" in facility.daysCanHost.days else ""}}></label>
      <label>  Friday<input type="checkbox" name="daysCanHost-friday" {{"checked=''" if "friday" in facility.daysCanHost.days else ""}}></label>
      <label>  Saturday<input type="checkbox" name="daysCanHost-saturday" {{"checked=''" if "saturday" in facility.daysCanHost.days else ""}}></label>
         </span>
        <br>
    <input type="hidden" name="facilityname" value="{{facility.fullName}}">
    <label>Dates cannot host matches</label><input type="text" name="datesCantHost" value="{{facility.datesCantHost}}">
    <label>Can only host matches for</label>

    <script>
        var x = {{facility.allowedTeams.__len__()}};
        function change(){
            var dom = document.getElementById("count");
            if(dom.value>30){
                dom.value = 30
                return;
            }
                if(dom.value >x){

                    x = parseInt(dom.value);
                    var n = document.createElement("input");
                    var m = document.getElementById("here");
                    m.innerHTML +=`<select name="team-`+x+`">
                               <option value="$none">None</option>
                    {% for team in teams %}
                <option value="{{team}}">{{teams[team].shortName}}</option>
                    {% endfor %}
                    `

                }else{
                var here = document.getElementById("here");
                   here.removeChild(here.children[here.children.length-1]);
                   x=x-1
                }

        }

    </script>
        <input type="number" id="count" onchange="change();" placeholder="Team Count (number)" min="0" value="{{facility.allowedTeams.__len__()}}"  ><label></label><div id="here">
    {% set i = 0 %}
    {% for ateam in facility.allowedTeams.value %}
    <select name="team-{{i+1}}">
        <option value="$none">None</option>
        {% for team in teams %}
            <option value="{{teams[team].fullName}}" {{'selected="selected"' if ateam==teams[team].fullName.value else ""}}>{{teams[team].shortName}}</option>
        {% endfor %}
    </select>
    {% set i = i+1 %}
    {% endfor %}
</div>
</span>
    <label></label>
    <input type="submit">

</form>
</body>
</html>